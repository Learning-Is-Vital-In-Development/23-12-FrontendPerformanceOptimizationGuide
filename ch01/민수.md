## 1장 - 블로그 서비스 최적화

---

### 실습 내용 소개

[학습 최적화 기법]

- 로딩 성능 최적화
  - 이미지 사이즈 최적화
  - 코드 분할
  - 텍스트 압축
- 렌더링 성능 최적화
  - 병목 코드 최적화

[분석 툴 소개]

- 크롬 개발자 도구
  - Network 패널
  - Performance 패널
  - Lighthouse 패널
- webpack-bundle-analyzer

### 서비스 탐색 및 코드 분석

### Lighthouse 툴을 이용한 페이지 검사

- Web vitals
  - FCP (First Contentful Paint): 페이지 로드 시 브라우저가 DOM 컨텐츠 첫 번째 부분 렌더링 하는데 걸리는 시간
  - SI (Speed Index): 페이지 로드 중 컨텐츠가 시각적으로 표시되는 속도
  - LCP (Largest Contentful Paint): 페이지 로드 시 화면 내에 있는 가장 큰 이미지/텍스트 요소가 렌더링되기까지 걸리는 시간
  - TTI (Time To Interactive): 사용자가 페이지와 상호 작용이 가능한 시점까지 걸리는 시간
  - TBT (Total Blocking Time): 페이지가 클릭, 키보드 입력 등 사용자 입력에 응답하지 않도록 차단된 시간 총합
  - CLS (Cumulative Layout Shift): 페이지 로드 시 예기치 못한 레이아웃 이동 측정 시간

### 이미지 사이즈 최적화

- 비효율적인 이미지 분석
- 이미지 CDN
- 적절한 이미지 사이즈로 최적화
  - 실제 Rendered Size \* 2 (for 레티나 디스플레이)

### 병목 코드 최적화

- performance 패널 보는 훈련 필요

### 코드 분할 & 지연 로딩

- webpack-bundle-analyzer (번들 트리맵 시각화)
  - cra-bundle-analyzer
- dynamic import
  - React의 lazy와 Suspense 이용

### 텍스트 압축

- response header에서 Content-Encoding: gzip
- build 명령어 옵션 설정

[Note]

- 세션 당 페이지
- Source 패널에서 break point를 통한 디버깅
- CRA vs. Vite
- 로딩 vs. 렌더링
- Volta vs. NVM
- useEffect dep array로 함수 넣기 필요성 여부
- useCallback
- \*= css selector
- TTV
- CSR vs. SSR
- 피그마에서 png 파일 다운로드 시 \* 2 이미지로 다운로드 (for 레티나 디스플레이)
- 정적 이미지 - sharp 노드 패키지
- CDN
- Next.js Image 컴포넌트 loader property
- Next.js에서의 Performance 패널 활용
- pm2 serve 정적 페이지 (vite react build)
